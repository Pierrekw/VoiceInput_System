[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "voice-input"
version = "0.1.2"
description = "A powerful real-time voice recognition offline system with pause/resume functionality and automatic Excel export capabilities."
authors = [{name = "Pierre.W", email = "xingw1013@gmail.com"}]
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
	"certifi==2025.8.3",
	"cffi==2.0.0",
	"charset-normalizer==3.4.3",
	"cn2an==0.5.23",
	"colorama==0.4.6",
	"et-xmlfile==2.0.0",
	"funasr>=1.2.7",
	"idna==3.10",
	"ipykernel>=6.30.1",
	"ml-dtypes==0.3.1",
	"mypy==1.18.2",
	"mypy-extensions==1.1.0",
	"numpy<2",
	"onnx==1.14.0",
	"onnxruntime==1.15.1",
	"openpyxl==3.1.5",
	"pandas==2.3.2",
	"pandas-stubs==2.3.2.250926",
	"pathspec==0.12.1",
	"pip",
	"piper-tts>=1.3.0",
	"pre-commit>=4.3.0",
	"proces==0.1.7",
	"pyaudio==0.2.14",
	"pycparser==2.23",
	"pynput==1.8.1",
	"pytest>=8.4.2",
	"pytest-cov>=7.0.0",
	"python-dateutil==2.9.0.post0",
	"pytz==2025.2",
	"requests==2.32.5",
	"six==1.17.0",
	"sounddevice>=0.5.2",
	"speechrecognition==3.14.3",
	"srt==3.5.3",
	"torch==2.3.1",
	"torchaudio==2.3.1",
	"torchvision==0.18.1",
	"tqdm==4.67.1",
	"tree>=0.2.4",
	"types-openpyxl==3.1.5.20250919",
	"types-pyaudio==0.2.16.20250801",
	"types-pynput==1.8.1.20250809",
	"types-pytz==2025.2.0.20250809",
	"typing-extensions==4.15.0",
	"tzdata==2025.2",
	"urllib3==2.5.0",
	"websockets==15.0.1",
]

# 👇 This is the key: tell setuptools to treat root .py files as top-level modules
[tool.setuptools]
py-modules = ["main", "audio_capture_v", "excel_exporter", "TTSengine"]  # ← list your root .py files here

[tool.setuptools.packages.find]
where = ["."]
include = ["*"]
exclude = ["tests*"]

[tool.mypy]
python_version = "3.11"          # 按你实际版本写
explicit_package_bases = true    # 显式指定包基础路径
ignore_missing_imports = true    # 全局忽略无 stub 的库
exclude = [
    '^backup/',          # 排除 backup 目录及子目录
    '^__pycache__/',     # 排除 __pycache__
    '.*\.xlsx$',         # 排除所有 .xlsx 文件
	'^test_develop/'     # 排除 test_develop 目录及子目录
]
# 如果你只想忽略 cn2an、vosk，用下面两行代替上面那句
# [[tool.mypy.overrides]]
# module = ["cn2an.*", "vosk.*"]
# ignore_missing_imports = true