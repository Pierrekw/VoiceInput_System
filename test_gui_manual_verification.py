#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
GUIæ‰‹åŠ¨éªŒè¯æµ‹è¯•è„šæœ¬
å¯åŠ¨GUIå¹¶æç¤ºç”¨æˆ·è¿›è¡Œæ–‡æœ¬å’Œæ•°å­—äº¤æ›¿è¯†åˆ«æµ‹è¯•
"""

import sys
import subprocess
import time

def show_test_instructions():
    """æ˜¾ç¤ºæµ‹è¯•è¯´æ˜"""
    print("ğŸ¯ GUIæ˜¾ç¤ºä¿®å¤éªŒè¯æµ‹è¯•")
    print("=" * 50)
    print()
    print("ğŸ“‹ æµ‹è¯•ç›®æ ‡:")
    print("   éªŒè¯ä¿®å¤åGUIèƒ½æ­£ç¡®æ˜¾ç¤ºæ–‡æœ¬å’Œæ•°å­—äº¤æ›¿è¯†åˆ«")
    print()
    print("ğŸ¤ å»ºè®®æµ‹è¯•åºåˆ—:")
    print("   1. è¯´å‡ºçº¯æ–‡æœ¬ï¼ˆå¦‚ï¼š'ä½ å¥½'ã€'æµ‹è¯•'ï¼‰")
    print("   2. è¯´å‡ºæ•°å­—ï¼ˆå¦‚ï¼š'ä¸€äºŒä¸‰'ã€'ä¸‰å››äº”'ï¼‰")
    print("   3. è¯´å‡ºçº¯æ–‡æœ¬ï¼ˆå¦‚ï¼š'ç»§ç»­æµ‹è¯•'ã€'å¥½çš„'ï¼‰")
    print("   4. è¯´å‡ºæ•°å­—ï¼ˆå¦‚ï¼š'ä¸‰ç‚¹ä¸€å››'ã€'äº”ç‚¹å…­ä¸ƒ'ï¼‰")
    print("   5. è¯´å‡ºçº¯æ–‡æœ¬ï¼ˆå¦‚ï¼š'æœ€åä¸€ä¸ªæµ‹è¯•'ï¼‰")
    print()
    print("âœ… é¢„æœŸç»“æœ:")
    print("   - æ–‡æœ¬è¯†åˆ«ååº”æ˜¾ç¤ºæ–‡æœ¬å†…å®¹")
    print("   - æ•°å­—è¯†åˆ«ååº”æ˜¾ç¤ºå¸¦IDçš„æ•°å­—")
    print("   - ä¸åº”å‡ºç°æ˜¾ç¤ºä¹‹å‰æ•°å­—ä¿¡æ¯çš„é—®é¢˜")
    print()
    print("âŒ ä¿®å¤å‰çš„é—®é¢˜:")
    print("   - è¯†åˆ«æ•°å­—åï¼Œå†è¯†åˆ«æ–‡æœ¬ä¼šæ˜¾ç¤ºä¹‹å‰çš„æ•°å­—")
    print()
    print("ğŸš€ å¯åŠ¨GUIè¿›è¡Œæµ‹è¯•...")
    print("=" * 50)

def run_gui_test():
    """è¿è¡ŒGUIæµ‹è¯•"""
    try:
        # æ˜¾ç¤ºæµ‹è¯•è¯´æ˜
        show_test_instructions()

        # ç­‰å¾…ç”¨æˆ·ç¡®è®¤
        input("æŒ‰å›è½¦é”®å¯åŠ¨GUI...")

        print("\nğŸš€ æ­£åœ¨å¯åŠ¨GUI...")
        print("æç¤ºï¼šå…³é—­GUIçª—å£åï¼Œè„šæœ¬ä¼šæ˜¾ç¤ºæµ‹è¯•æ€»ç»“")

        # å¯åŠ¨GUI
        result = subprocess.run([sys.executable, "voice_gui.py"],
                              cwd=".",
                              capture_output=False)

        print("\n" + "=" * 50)
        print("ğŸ“Š æµ‹è¯•å®Œæˆ")
        print("=" * 50)
        print()
        print("ğŸ¤” è¯·å›ç­”ä»¥ä¸‹é—®é¢˜:")
        print("1. æ–‡æœ¬è¯†åˆ«åæ˜¯å¦æ­£ç¡®æ˜¾ç¤ºæ–‡æœ¬å†…å®¹ï¼Ÿ")
        print("2. æ•°å­—è¯†åˆ«åæ˜¯å¦æ­£ç¡®æ˜¾ç¤ºæ•°å­—ï¼Ÿ")
        print("3. æ–‡æœ¬å’Œæ•°å­—äº¤æ›¿è¯†åˆ«æ—¶ï¼Œæ˜¾ç¤ºæ˜¯å¦æ­£ç¡®åˆ‡æ¢ï¼Ÿ")
        print("4. æ˜¯å¦æ²¡æœ‰å‡ºç°'æ˜¾ç¤ºä¹‹å‰æ•°å­—ä¿¡æ¯'çš„é—®é¢˜ï¼Ÿ")
        print()
        print("å¦‚æœä»¥ä¸Šé—®é¢˜ç­”æ¡ˆéƒ½æ˜¯'æ˜¯'ï¼Œåˆ™ä¿®å¤æˆåŠŸï¼")

        return result.returncode == 0

    except KeyboardInterrupt:
        print("\nâš ï¸ æµ‹è¯•è¢«ç”¨æˆ·ä¸­æ–­")
        return False
    except Exception as e:
        print(f"\nâŒ æµ‹è¯•å¤±è´¥: {e}")
        return False

if __name__ == "__main__":
    success = run_gui_test()

    if success:
        print("\nğŸ‰ GUIæµ‹è¯•å®Œæˆ")
    else:
        print("\nâš ï¸ GUIæµ‹è¯•æœªå®Œæˆæˆ–å¤±è´¥")

    sys.exit(0 if success else 1)